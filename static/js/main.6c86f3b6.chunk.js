(this["webpackJsonppeople-matcher-new"]=this["webpackJsonppeople-matcher-new"]||[]).push([[0],{186:function(e,t,a){e.exports=a.p+"static/media/google-icon.2d7c9127.png"},203:function(e,t,a){e.exports=a(360)},208:function(e,t,a){},209:function(e,t,a){},360:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),c=a.n(i),o=(a(208),a(209),a(66)),l=a(420),s=a(421),u=a(42),m=a(13),d=a(88),g=a(4),p=a(406),f=a(18),h=a(436),b=a(409),v=a(411),E=a(438),x=a(412),w=a(415),j=a(414),y=a(413),O=a(180),N=a.n(O),S=a(181),C=a.n(S),k=a(182),I=a.n(k),B=a(416),P=a(417),F=a(418),A=a(183),T=a.n(A),L=a(184),R=a.n(L),z=a(185),U=a.n(z),W=a(54);a(210);W.initializeApp({apiKey:"AIzaSyDF9a6lrZiRxIKp4egTzFbIlvUai-sxBTg",authDomain:"peoplematcher-ca9ef.firebaseapp.com",databaseURL:"https://peoplematcher-ca9ef.firebaseio.com",projectId:"peoplematcher-ca9ef",storageBucket:"peoplematcher-ca9ef.appspot.com",messagingSenderId:"468976630953",appId:"1:468976630953:web:67c28399a0d9fa33b3bdb8"});var _=Object(n.createContext)("auth");function G(e){var t=e.children,a=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(m.a)(i,2),o=c[0],l=c[1],s=Object(n.useState)(!1),u=Object(m.a)(s,2),d=u[0],g=u[1],p=new W.auth.GoogleAuthProvider;return Object(n.useEffect)((function(){l(!0);var e=W.auth().onAuthStateChanged((function(e){e?(r(e),l(!1)):(r(!1),l(!1))}));return function(){return e()}}),[]),Object(n.useEffect)((function(){g("object"===typeof a)}),[a]),{profile:a,isLoading:o,isLoggedIn:d,signin:function(){return l(!0),W.auth().signInWithPopup(p).then((function(e){return r(e.user),l(!1),e.user})).catch((function(e){console.error(e),l(!1)}))},signout:function(){return W.auth().signOut().then((function(){r(!1)}))}}}();return r.a.createElement(_.Provider,{value:a},t)}var H=function(){return Object(n.useContext)(_)};var D=Object(n.createContext)("router");function q(e){var t=e.children,a=function(){var e=Object(n.useState)("/"),t=Object(m.a)(e,2),a=t[0],r=t[1];return{path:a,goTo:function(e){r(e)}}}();return r.a.createElement(D.Provider,{value:a},t)}var J=function(){return Object(n.useContext)(D)};var K=Object(p.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),background:"linear-gradient(to right, #663399, #5B72FF)"},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(d.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},toolbar:{display:"flex",justifyContent:"space-between"},userAvatar:{display:"flex",alignItems:"center",cursor:"pointer"},userName:{paddingRight:"1rem",fontWeight:"bold",fontSize:1.3*e.typography.fontSize},clickable:{cursor:"pointer"}}})),M=function(e){var t=e.siteTitle,a=K(),n=H(),i=n.profile,c=n.signout,l=J().goTo,s=Object(f.a)(),d=r.a.useState(!1),p=Object(m.a)(d,2),O=p[0],S=p[1];function k(){l("/")}function A(){l("/profile")}return r.a.createElement("div",{className:a.root},r.a.createElement(b.a,null),r.a.createElement(v.a,{position:"fixed",elevation:0,className:Object(g.a)(a.appBar,Object(u.a)({},a.appBarShift,O))},r.a.createElement(x.a,{className:a.toolbar},r.a.createElement(y.a,{color:"inherit","aria-label":"Open drawer",onClick:function(){S(!0)},edge:"start",className:Object(g.a)(a.menuButton,O&&a.hide)},r.a.createElement(N.a,null)),r.a.createElement(o.a,{variant:"h6",color:"inherit",onClick:k,className:a.clickable},t),r.a.createElement("div",{className:a.userAvatar,onClick:A},r.a.createElement("span",{className:a.userName},(null===i||void 0===i?void 0:i.displayName)+" "),r.a.createElement(E.a,{alt:null===i||void 0===i?void 0:i.displayName,src:null===i||void 0===i?void 0:i.photoURL})))),r.a.createElement(h.a,{className:a.drawer,variant:"persistent",anchor:"left",open:O,classes:{paper:a.drawerPaper}},r.a.createElement("div",{className:a.drawerHeader},r.a.createElement(y.a,{onClick:function(){S(!1)}},"ltr"===s.direction?r.a.createElement(C.a,null):r.a.createElement(I.a,null))),r.a.createElement(j.a,null),r.a.createElement(w.a,null,r.a.createElement(B.a,{button:!0,onClick:k},r.a.createElement(P.a,null,r.a.createElement(T.a,null)),r.a.createElement(F.a,null,"Network")),r.a.createElement(B.a,{button:!0,onClick:A},r.a.createElement(P.a,null,r.a.createElement(R.a,null)),r.a.createElement(F.a,null,"Profile")),r.a.createElement(j.a,null),r.a.createElement(B.a,{button:!0,onClick:function(){c(),l("/")}},r.a.createElement(P.a,null,r.a.createElement(U.a,null)),r.a.createElement(F.a,null,"Sign Out")))))};M.defaultProps={siteTitle:""};var V=M,Y=a(187),Z=a.n(Y),$=a(419),Q=a(20),X=a.n(Q),ee=a(186),te=a.n(ee),ae=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1),display:"flex",flexAlign:"center",justifyContent:"center"},submit:{margin:e.spacing(3,0,2)},socialLogin:{width:"50%",marginTop:e.spacing(1)},sighInIcon:{height:"48px",paddingRight:"5px"}}})),ne=function(){var e=ae(),t=H(),a=t.signin,n=t.user;return r.a.createElement(r.a.Fragment,null,!n&&r.a.createElement("div",{className:e.paper},r.a.createElement(E.a,{className:e.avatar},r.a.createElement(Z.a,null)),r.a.createElement(o.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement($.a,{color:"primary",onClick:function(){a().then((function(e){X.a.database().ref("/users/".concat(e.uid)).once("value").then((function(t){var a=t.val(),n=e.displayName?{username:e.displayName,email:e.email,photoUrl:e.photoURL,tags:[]}:{username:e.displayName,email:e.email,photoUrl:e.photoURL,wholeObject:e,tags:[]};a?(X.a.database().ref("/users/".concat(e.uid,"/username")).set(n.displayName),X.a.database().ref("/users/".concat(e.uid,"/email")).set(n.email),X.a.database().ref("/users/".concat(e.uid,"/photoUrl")).set(n.photoUrl)):X.a.database().ref("/users/".concat(e.uid)).set(n)}))}))}},r.a.createElement("img",{alt:"Google Icon",className:e.sighInIcon,src:te.a})," with Google"))))};function re(){return r.a.createElement(o.a,{variant:"body2",color:"textSecondary",align:"center",style:{bottom:0,position:"absolute",width:"100%"}},"Copyright \xa9 ",(new Date).getFullYear(),r.a.createElement(l.a,{color:"inherit",href:"https://github.com/burnpiro"}," @burnpiro."),"Built with"," ",r.a.createElement(l.a,{color:"inherit",href:"https://www.reactjs.org"},"React"))}var ie=function(e){var t=e.children,a=H(),n=a.isLoggedIn,i=a.isLoading;return r.a.createElement("div",{style:{height:"100vh",backgroundColor:"#FFF"}},i?r.a.createElement("div",{style:{margin:"auto auto",width:"100%",height:"50vh",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(s.a,{size:100})):r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(V,{siteTitle:"People Matcher"}),r.a.createElement("div",{style:{margin:"0 auto",maxWidth:"calc(100vw - 56px)",position:"relative",height:"100%",padding:"0px 1.0875rem 1.45rem",paddingTop:76}},r.a.createElement("main",{style:{flex:1}},n?t:r.a.createElement(ne,null)),r.a.createElement(re,null))))},ce=a(37),oe=a(65),le=a(188),se=a.n(le),ue=a(189),me=a.n(ue);function de(e){e.description;var t=e.lang,a=e.meta,n=e.title;return r.a.createElement(me.a,{htmlAttributes:{lang:t},title:n,titleTemplate:"%s | People Matcher",meta:[{name:"viewport",content:"minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no"},{property:"og:title",content:n},{property:"og:type",content:"website"},{name:"twitter:card",content:"summary"},{name:"twitter:creator",content:"@burnpiro"},{name:"twitter:title",content:n}].concat(a)})}de.defaultProps={lang:"en",meta:[],description:""};var ge=de,pe=a(431),fe=a(422),he=a(361),be=a(424),ve=a(428),Ee=a(427),xe=a(425),we=a(426),je=a(439),ye=a(423),Oe=a(435),Ne=Object(p.a)((function(e){return{root:{position:"absolute",zIndex:100,top:"64px",left:0,width:"100%",maxWidth:"100%"},connectionsColumn:{width:"140px"},nameColumn:{width:"280px"},userAvatar:{padding:e.spacing(1),display:"flex",alignItems:"center"},userName:{paddingLeft:"1rem",fontWeight:"bold",fontSize:1.3*e.typography.fontSize},title:{paddingRight:"1rem"}}})),Se=function(e,t){return t.tags.length-e.tags.length},Ce=function(e){var t=e.selectedNodes,a=e.selectedEdges,n=e.nodes,i=Ne(),c=r.a.useState(0),l=Object(m.a)(c,2),s=l[0],u=l[1],d=r.a.useState(5),g=Object(m.a)(d,2),p=g[0],f=g[1],h=t.length>0?function(e,t,a){var n=a.find((function(t){return t.id===e}));return t.map((function(e){return e.split("/")})).reduce((function(t,r){var i=Object(m.a)(r,2),c=i[0],o=i[1],l=c===e?a.find((function(e){return e.id===o})):a.find((function(e){return e.id===c})),s=n.tags.filter((function(e){return l.tags.some((function(t){return t.uid===e.uid}))})),u=t.findIndex((function(e){return e.id===l.id}));return-1!==u?t[u]={tags:s,id:l.id,name:l.username}:t=[].concat(Object(ce.a)(t),[{tags:s,id:l.id,name:l.username}]),t}),[])}(t[0],a,n):function(e,t){return e.map((function(e){return e.split("/")})).reduce((function(e,a){var n=Object(m.a)(a,2),r=n[0],i=n[1],c=t.find((function(e){return e.id===r})),o=t.find((function(e){return e.id===i})),l=c.tags.filter((function(e){return o.tags.some((function(t){return t.uid===e.uid}))})),s=e.findIndex((function(e){return e.id==="".concat(r,"/").concat(i)}));return-1!==s?e[s]={tags:l,id:"".concat(r,"/").concat(i),name:"".concat(c.username," - ").concat(o.username)}:e=[].concat(Object(ce.a)(e),[{tags:l,id:"".concat(r,"/").concat(i),name:"".concat(c.username," - ").concat(o.username)}]),e}),[])}(a,n);return h.sort(Se),r.a.createElement(fe.a,{className:i.root},r.a.createElement(he.a,null,r.a.createElement(ye.a,{className:i.container},t.length>0&&t.map((function(e){return n.find((function(t){return t.id===e}))})).map((function(e){return r.a.createElement("div",{className:i.userAvatar,key:e.id},r.a.createElement(o.a,{variant:"h6",color:"inherit",className:i.title},"Selected:"),r.a.createElement(E.a,{alt:null===e||void 0===e?void 0:e.username,src:null===e||void 0===e?void 0:e.photoUrl}),r.a.createElement("span",{className:i.userName},(null===e||void 0===e?void 0:e.username)+" "))})),r.a.createElement(be.a,{stickyHeader:!0,size:"small"},r.a.createElement(xe.a,null,r.a.createElement(we.a,null,r.a.createElement(Ee.a,{className:i.connectionsColumn,align:"center"},"Connections"),r.a.createElement(Ee.a,{className:i.nameColumn,align:"center"},"Name"),r.a.createElement(Ee.a,null,"Tags"))),r.a.createElement(ve.a,null,h.slice(s*p,s*p+p).map((function(e){return r.a.createElement(we.a,{key:e.id},r.a.createElement(Ee.a,{className:i.connectionsColumn,align:"center"},e.tags.length),r.a.createElement(Ee.a,{className:i.nameColumn,align:"center"},e.name),r.a.createElement(Ee.a,null,e.tags.map((function(e){return r.a.createElement(je.a,{key:e.uid,label:e.tagName})}))))}))))),r.a.createElement(Oe.a,{rowsPerPageOptions:[p],component:"div",count:h.length,rowsPerPage:p,page:s,onChangePage:function(e,t){u(t)},onChangeRowsPerPage:function(e){f(+e.target.value),u(0)}})))},ke={nodes:{borderWidth:6,size:30},layout:{randomSeed:16,improvedLayout:!0,clusterThreshold:500},physics:{forceAtlas2Based:{gravitationalConstant:-75,springLength:300,springConstant:.03,avoidOverlap:5,centralGravity:.001},hierarchicalRepulsion:{springLength:300},maxVelocity:146,solver:"forceAtlas2Based",timestep:.35,stabilization:{enabled:!0,iterations:100,updateInterval:25}},edges:{arrows:{to:{enabled:!1}},scaling:{customScalingFunction:function(e,t,a,n){return n/(t+e)}},color:"#5B72FF"}};function Ie(e,t){return t.some((function(t){return t===e.to||t===e.from}))}var Be=function(){var e=Object(oe.b)(X.a.database().ref("/users")),t=Object(m.a)(e,1)[0],a=Object(n.useState)([]),i=Object(m.a)(a,2),c=i[0],o=i[1],l=Object(n.useState)([]),s=Object(m.a)(l,2),u=s[0],g=s[1],p={select:function(e){var t=e.nodes,a=e.edges;o(t),g(a)}},f=null===t||void 0===t?void 0:t.val(),h="object"===typeof f?Object.keys(f).map((function(e){return Object(d.a)({},f[e],{id:e,tags:f[e].tags||[],shape:"circularImage",image:f[e].photoUrl||"https://raw.githubusercontent.com/google/material-design-icons/master/social/2x_web/ic_person_outline_white_48dp.png",brokenImage:"https://raw.githubusercontent.com/google/material-design-icons/master/social/2x_web/ic_person_outline_white_48dp.png"})})):[],b=h.length>0?h.reduce((function(e,t,a){var n=h.filter((function(e,n){return e.id!==t.id&&n>a})).map((function(e){if(0===e.tags.length)return{value:0};var a=t.tags.filter((function(t){return e.tags.some((function(e){return e.uid===t.uid}))})).length;return{id:"".concat(t.id,"/").concat(e.id),from:t.id,to:e.id,value:a,color:c&&Ie({from:t.id,to:e.id},c)?"red":"#5B72FF"}}));return[].concat(Object(ce.a)(e),Object(ce.a)(n.filter((function(e){return 0!==e.value}))))}),[]):[],v={nodes:h,edges:b};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,{title:"Home"}),(u.length>0||c.length>0)&&r.a.createElement(Ce,{selectedNodes:c,selectedEdges:u,nodes:h}),r.a.createElement(pe.a,{container:!0,spacing:3,justify:"center"},r.a.createElement(se.a,{graph:v,options:ke,events:p,style:{height:"calc(100vh - 120px)",width:"100vw"}})))},Pe=a(190),Fe=a(191),Ae=a.n(Fe),Te=a(434),Le=a(437),Re=new Pe.DraggableAreasGroup,ze=Re.addArea(),Ue=Re.addArea(),We=Object(p.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},tag:{position:"relative",margin:"3px",fontSize:"16px",border:"2px dashed #cccccc",borderRadius:"4px",padding:e.spacing(1),lineHeight:"30px",color:"#666666",cursor:"pointer",background:"rgba(255, 255, 255, 0.7)"},tagSelected:{border:"2px dashed #3b9de9;"},deleteBtn:{position:"absolute",top:"-1px",right:"-1px",width:"20px",height:"20px",cursor:"pointer",userDrag:"none",userSelect:"none"},dragableBox:{minHeight:"100px",maxHeight:"60vh",overflowY:"scroll",background:"rgba(0, 0, 0, 0.05)"},searchBox:{paddingBottom:e.spacing(1)}}}));var _e=function(){var e=We(),t=H().profile,a=Object(oe.b)(X.a.database().ref("/users/".concat(null===t||void 0===t?void 0:t.uid))),i=Object(m.a)(a,1)[0],c=Object(oe.a)(X.a.database().ref("/tags")),o=Object(m.a)(c,1)[0],l=Object(n.useState)(""),s=Object(m.a)(l,2),d=s[0],g=s[1],p=Object(n.useState)(""),f=Object(m.a)(p,2),h=f[0],b=f[1],v=null===i||void 0===i?void 0:i.val(),E=(null===v||void 0===v?void 0:v.tags)||[],x=o.filter((function(e){return!E.some((function(t){return t.uid===e.uid}))})).filter((function(e){return function(e,t){var a="(?=.*"+t.split(/\,|\s/).join(")(?=.*")+")",n=new RegExp(a,"gi");return null!==e.match(n)}(e.tagName,h)})),w=function(e){var a=Object(u.a)({},"/users/".concat(null===t||void 0===t?void 0:t.uid,"/tags"),e);X.a.database().ref().update(a)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,{title:"Page two"}),r.a.createElement("h1",null,"Select your interests"),r.a.createElement(pe.a,{container:!0,spacing:3},r.a.createElement(pe.a,{item:!0,xs:6},r.a.createElement(he.a,{className:e.paper},r.a.createElement(pe.a,{container:!0,justify:"center",alignItems:"flex-end",className:e.searchBox},r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(Te.a,{required:!0,id:"searchTag",name:"searchTag",label:"Search",onChange:function(e){b(e.target.value)},value:h,fullWidth:!0}))),r.a.createElement(ze,{className:e.dragableBox,tags:x||[],render:function(t){var a=t.tag;return r.a.createElement("div",{key:a.uid,onClick:function(){return function(e){w([].concat(Object(ce.a)(E),[e]))}(a)},className:e.tag},a.tagName)}}),r.a.createElement(pe.a,{container:!0,justify:"center",alignItems:"flex-end"},r.a.createElement(pe.a,{item:!0,xs:9},r.a.createElement(Te.a,{required:!0,id:"tagName",name:"tagName",label:"Tag name",onChange:function(e){g(e.target.value)},value:d,fullWidth:!0})),r.a.createElement(pe.a,{item:!0,xs:3},r.a.createElement($.a,{variant:"contained",color:"primary",disabled:d.length<1,onClick:function(){var e=Object(Le.a)(),t=X.a.database().ref().child("tags").push().key,a=Object(u.a)({},"/tags/".concat(t),{uid:e,tagName:d});X.a.database().ref().update(a),g("")},className:e.button},"Add"))))),r.a.createElement(pe.a,{item:!0,xs:6},r.a.createElement(he.a,{className:e.paper},r.a.createElement(Ue,{className:e.dragableBox,tags:E||[],render:function(t){var a=t.tag;return r.a.createElement("div",{key:a.uid,className:e.tag+" "+e.tagSelected,onClick:function(){return function(e){w(E.filter((function(t){return t.uid!==e.uid})))}(a)}},r.a.createElement(Ae.a,{color:"secondary",className:e.deleteBtn}),a.tagName)},onChange:function(e){w(e)}})))))};var Ge=function(e){e.paths;var t=J().path;return r.a.createElement(r.a.Fragment,null,"/"===t&&r.a.createElement(Be,null),"/profile"===t&&r.a.createElement(_e,null))};var He=function(){return r.a.createElement(G,null,r.a.createElement(q,null,r.a.createElement(ie,null,r.a.createElement(Ge,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(He,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[203,1,2]]]);
//# sourceMappingURL=main.6c86f3b6.chunk.js.map